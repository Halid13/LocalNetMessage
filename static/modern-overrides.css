/* Modern Overrides: th√®me sombre, animations, micro-interactions */

.theme-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 42px;
    height: 42px;
    border-radius: var(--radius-lg);
    border: 1px solid var(--border-color);
    background: var(--bg-tertiary);
    cursor: pointer;
    transition: background var(--transition-fast), transform var(--transition-fast);
    font-size: 1.125rem;
    box-shadow: var(--shadow-sm);
}
.theme-toggle:hover { background: var(--bg-secondary); transform: translateY(-2px); }
.theme-toggle:active { transform: scale(0.95); }

body.dark {
    --bg-primary: #12151c;
    --bg-secondary: #1e2430;
    --bg-tertiary: #262f3d;
    --text-primary: #e2e8f0;
    --text-secondary: #a0aec0;
    --text-light: #718096;
    --msg-received-bg: #1e2430;
    --msg-system-bg: #262f3d;
    --border-color: #2d3748;
    --shadow-sm: 0 1px 2px 0 rgba(0,0,0,0.6), 0 1px 1px 0 rgba(0,0,0,0.4);
    --shadow-md: 0 4px 8px -2px rgba(0,0,0,0.5), 0 2px 4px -2px rgba(0,0,0,0.4);
    --shadow-lg: 0 10px 18px -4px rgba(0,0,0,0.55), 0 6px 10px -4px rgba(0,0,0,0.45);
    --glass-bg: rgba(30, 36, 48, 0.6);
    --glass-border: rgba(255, 255, 255, 0.08);
}

body.dark .message.received .message-text {
    border-color: var(--border-color);
    background: var(--msg-received-bg);
}@keyframes messageEnter {
	0% { opacity: 0; transform: translateY(8px) scale(0.98); }
	60% { opacity: 1; transform: translateY(-2px) scale(1.01); }
	100% { opacity: 1; transform: translateY(0) scale(1); }
}
.message-enter { animation: messageEnter 0.45s cubic-bezier(.16,.8,.34,1); }

.btn-send { transition: transform var(--transition-fast), box-shadow var(--transition-fast); }
.btn-send:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); }
.btn-send:active { transform: translateY(0) scale(0.97); }

.btn-icon { transition: transform var(--transition-fast), background var(--transition-fast); }
.btn-icon:hover { transform: scale(1.07); }
.btn-icon:active { transform: scale(0.95); }

.emoji-picker { animation: pickerPop 0.25s ease; }
@keyframes pickerPop { 0% { opacity:0; transform:scale(.85); } 100% { opacity:1; transform:scale(1); } }

.message-avatar, .client-avatar { position: relative; }
.message-avatar::after, .client-avatar::after {
	content: '';
	position: absolute;
	inset: -3px;
	border-radius: 50%;
	padding: 2px;
	background: linear-gradient(135deg,#ff9a9e,#fad0c4 30%,#fad0c4,#a18cd1,#fbc2eb);
	-webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
	mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
	-webkit-mask-composite: xor;
			mask-composite: exclude;
	animation: rotateRing 6s linear infinite;
}
@keyframes rotateRing { to { transform: rotate(360deg); } }

@media (prefers-reduced-motion: reduce) {
	.message-enter, .emoji-picker { animation: none !important; }
	.btn-send, .btn-icon { transition: none; }
}

